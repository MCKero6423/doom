<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8" /><title>DOOM on JS-DOS</title></head>
<body style="margin:0; padding:0; overflow:hidden; background:#000;">
  <canvas id="jsdos-canvas" style="width:100vw; height:100vh;"></canvas>
  <script src="https://cdn.jsdelivr.net/npm/js-dos@7/dist/js-dos.js"></script>
  <script>
    async function start() {
      const canvas = document.getElementById("jsdos-canvas");
      try {
        const ci = await Dos(canvas);
        // 官方托管的 freedoom 7.1 包，包含游戏和WAD
        await ci.run("https://cdn.dos.zone/original/2X/2/223a233c7cb1370a5a6764f891e4a83877c44919.jsdos");
      } catch(e) {
        console.error("Error launching DOOM:", e);
        document.body.innerHTML = `<pre style="color:red;">${e.stack}</pre>`;
      }
    }
    window.onload = start;
  </script>
</body>
</html>
